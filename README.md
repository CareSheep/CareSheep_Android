# 초기 치매 환자 및 고령 노인과 보호자를 연결하는 맞춤 일상 케어 서비스 <br/>

## 📌 시연 영상

하단 이미지를 클릭하시면 영상을 시청하실 수 있습니다.

[![caresheep](https://github-production-user-asset-6210df.s3.amazonaws.com/68229317/265711511-0c6a80a5-a1d1-4ecf-8e7a-431ff8ed54a5.png)](https://www.youtube.com/watch?v=JAGBXX1ZLXk)

<br/>
<br/>
<br/>
<br/>

## 📌 작품 소개

### 개발 배경

대한민국 국민의 평균수명이 늘어나고 고령화 시대에 접어들면서 치매는 심각한 사회적 난제로 주목받고 있다. "치매"란 퇴행성 뇌 질환 또는 뇌혈관계 질환 등으로 인해 기억력, 언어능력, 지남력(指南力), 판단력 및 수행 능력 등의 기능이 저하됨으로써 일상생활에서 지장을 초래하는 후천적인 다발성 장애를 말한다. (「치매관리법」 제2조 제1호). 치매의 문제는 환자는 물론 가족들의 삶까지 파괴한다는 점이다. 치매 환자의 보호자들은 환자를 돌봄에 있어 경제적, 신체적 그리고 정신적 측면의 부담도 함께 느끼고 있기 때문이다.

이에 따라 국내에서도 치매 관련 앱에 관심을 두고 개발이 진행되고 있다. 구글 플레이스토어에 ‘치매’와 ‘케어’라는 키워드를 검색했을 때, 주로 치매 예방에 초점이 맞춰져 있으며 환자와 가족들을 연결하는 형태의 서비스가 부재하다. 더불어 고령 노인이 사용하기에 복잡한 인터페이스와 치매 환자의 행동에 대비한 긴급 상황 인식 및 알람 기능의 부족은 치매 환자 가족에게 미흡한 서비스를 제공한다.

따라서 초기 치매 환자가 본인의 일상을 관리하는 것을 도우면서 동시에 여러 보호자가 환자를 보다 쉽게 돌볼 수 있는 서비스가 필요하다. 또한, 스마트폰 사용에 미숙한 고령층을 위한 직관적인 인터페이스도 필요하다.

이를 바탕으로 더 나은 돌봄 서비스를 제공하기 위해 초기 치매 환자(고령 노인)과 보호자로 사용자층을 나누고, 그들 간의 연결과 생활 관리에 초점을 맞춘 ‘초기 치매 환자 및 고령 노인 생활 관리(케어쉽) 프로젝트’를 추진하게 되었다.

<br/>

### 개발 목적

- 치매 환자가 일상생활을 스스로 하거나 적은 도움만 받는다면 초기 치매 환자는 스스로 해낼 수 있다는 자신감을 갖게 되어 오랫동안 독립적으로 생활할 수 있다. 또한 규칙적인 생활은 초기 치매 환자의 혼란을 경감시키고 정신적 안정에 도움이 된다. 따라서 규칙적인 생활 습관을 위한 루틴을 제공하는 알람 기능을 제공한다.

- 치매의 비약물 치료 방법 중 규칙적인 운동은 정상 노인의 실행 능력뿐만 아니라 기억력, 집중력, 언어, 반응속도를 포함한 인지기능을 유지하거나 향상시키며, 치매 발생률 또한 낮춘다는 보고가 존재한다.  따라서 치매 환자에게 걷기 운동과 같은 규칙적인 운동 시간을 할 수 있도록 도움을 주는 만보기 기능을 개발하였다.

- 초기 치매 환자는 기억력, 언어능력, 지남력(指南力), 판단력 및 수행능력 등의 기능이 저하된다. 그리고 초기 치매 특징 중 하나는 ‘최근 기억의 감퇴’와 미리 적어 두지 않으면 중요한 약속을 잊어버린다는 점이다. 이러한 점에서 가족들과의 일정을 공유 받고 일정을 확인할 수 있도록 하여 잊지 않도록 돕는 캘린더 일정 공유 기능을 개발하였다. 

- 또한  ‘판단력 및 실행 기능의 저하’로 상황 판단 및 대처가 어려운 긴급 상황을 대비하고자 보호자에게 보다 빠르게 상황을 알리는 녹음 및 음성 사서함 서비스를 개발하였다.

- 경찰청 조사에 따르면, 지난 3년 간 매년 1만 건 이상 치매환자 실종 신고가 접수됐으며, 지난해 2022년에는 실종 접수가 1만 4500여명에 육박하였다. 케어쉽은 초기 치매 환자의 실종 사고를 대비하여 보호자가 실시간으로 초기 치매 환자의 위치를 추적하는 서비스를 제공한다.


<br/>
<br/>
<br/>
<br/>

## 📌 시스템 구성 및 구조 

### 1. CareSheep 시스템 구성

&nbsp;&nbsp; 케어십은 초기 치매 환자 및 고령 노인과 보호자를 연결하여 케어할 수 있는 애플리케이션이다. 사용자는 두 종류가 있다; 케어의 대상이 되는 초기 치매 환자 및 고령 노인과 다른 하나는 이를 관리하는 보호자이다. **Google OAuth API**를 이용해 회원가입이 진행된다. 로그인을 하게 되면 앞서 가입할 때 선택했던 사용자의 종류에 따라 다른 화면으로 진입하게 된다. 

<br/>
   
### 2. 보호자 구조 

<details>
<summary><b>보호자-어르신 연결</b></summary>
<div markdown="1">       
&nbsp;&nbsp; A. 보호자와 어르신을 연결에는 2가지 방법이 있다; 첫번째로는 직접 사용자 코드를 입력하는 방법이고, 또 다른 방법은 QR코드를 사용하는 방법이다. QR코드 스캔을 위해 구글에서 제공하는 <b>ZXing(Zebra Crossing) 라이브러리</b>를 사용했다.
</div>
</details>

<details>
<summary><b>어르신 루틴 설정 및 확인</b></summary>
<div markdown="1">       
&nbsp;&nbsp; B. 어르신의 운동, 식사, 복약 시간, 수면시간을 입력하면 입력된 값은 연결된 어르신의 데이터베이스에 저장된다. 설정한 데이터는 보호자 마이페이지에서 어르신 루틴 정보 확인을 클릭하면 한 번에 확인할 수 있다. 이를 위해 <i>Firebase Realtime Database</i> 를 사용했다.
</div>
</details>

<details>
<summary><b>공유 캘린더 관리</b></summary>
<div markdown="1">       
&nbsp;&nbsp; C. <b>Google Calender API</b>를 이용해서 보호자는 구글 공유 캘린더에 일정을 추가, 삭제할수 있도록 하였으며 코루틴을 이용하여 비동기 처리를 구현했다.
</div>
</details>

<details>
<summary><b>어르신 상태 리포트 확인</b></summary>
<div markdown="1">       
&nbsp;&nbsp; D. <i>Firebase Realtime Database</i>에 저장된 어르신의 루틴 수행률 기반으로 보호자에게 생활 리포트가 제공되며 이를 통해 어르신의 상태를 주간 및 일간별로 파악할 수 있다.
</div>
</details>

<details>
<summary><b>어르신 상황 감지에 따른 알람</b></summary>
<div markdown="1">       
&nbsp;&nbsp; E. (1-B.)에서 데이터베이스에 저장한 값을 기반으로 어르신의 움직임이 감지되지 않을 경우, 보호자에게 긴급 전화 알람이 울린다.
</div>
</details>

<details>
<summary><b>어르신 음성메시지 수신 시, 분석 및 알람</b></summary>
<div markdown="1">       
&nbsp;&nbsp; F. <b>GPT API의 text-davinci-002 모델</b>을 이용해 <i>Firebase Realtime Database</i>에 저장된 어르신의 녹음 내용을 분석한다. 또한, <i>Firebase Realtime Database</i>에 데이터가 쌓이면 <b>Firebase Cloud Messaging</b>을 통해 알림이 전송된다. 이를 위해 JSON으로 메시지를 구조화하고 <b>Volley 라이브러리</b>를 사용해서 네트워크 요청을 보냈으며, 비동기로 처리하기 위해 코루틴을 이용했다.
</div>
</details>

<details>
<summary><b>어르신 실시간 위치 파악</b></summary>
<div markdown="1">       
&nbsp;&nbsp; G. <b>Naver Maps API</b>를 사용하여 어르신의 위치를 지도로 파악할 수 있다. <i>Firebase Realtime Database</i>에 저장된 어르신의 위치 정보를 불러와서 지도에 어르신의 위치를 표시한다.
</div>
</details>


<br/>
<br/>

### 3. 어르신 구조 

<details>
<summary><b>루틴 시간 알람</b></summary>
<div markdown="1">       
&nbsp;&nbsp; A. (1-B.)에서 보호자가 설정한 시간이 되면 어르신의 폰에 루틴 수행 시간을 알리는 <i>알람</i>이 울린다. 어르신이 수행 여부는 <i>Firebase Realtime Database</i> 에 저장되어 리포트 생성에 사용된다. 수행하지 않은 경우, 5분 후에 재알람이 울린다.
</div>
</details>

<details>
<summary><b>만보 및 움직임 감지</b></summary>
<div markdown="1">       
&nbsp;&nbsp; A-1. 루틴 중 운동의 경우, <b>AndroidStudio API - motion sensor</b>를 이용해 걸음수를 측정한다. 이 데이터는 어르신의 움직임 감지에 사용되고, 해당 데이터에 따라 (1-E.) 에서 어르신에게 긴급 전화 알람 제공 여부가 결정된다.
</div>
</details>

<details>
<summary><b>음성 녹음</b></summary>
<div markdown="1">       
&nbsp;&nbsp; B. 녹음을 하면 해당 음성 내용이 문장으로 데이터베이스로 저장되는 STT 서비스가 제공된다. 이를 위해 <b>AndroidStudio API - android.speech</b>와 <i>Firebase Realtime Database</i>가 이용된다.
</div>
</details>

<details>
<summary><b>실시간 위치 저장</b></summary>
<div markdown="1">       
&nbsp;&nbsp; C. <b>Naver Maps API</b>와 <i>Firebase Realtime Database</i>를 사용해서 어르신의 위치를 실시간으로 데이터베이스에 저장한다. 백그라운드 앱은 사용자의 현재 위치를 업데이트할 수 있는 빈도를 제한한다. 따라서 백그라운드로 위치 추적 기능을 구현하면 앱은 시간당 몇 번만 위치 업데이트를 받을 수 있기 때문에, 어르신 위치 추적 실행 시에 포그라운드 서비스화하여 사용자의 위치를 실시간으로 업데이트할 수 있게 구현한다.
</div>
</details>

<br/>

*Firebase Realtime Database*를 이용해서 데이터 동기화가 이루어진다. 데이터베이스는 다음과 같이 구성돼있다.
![caresheepERD](https://github.com/CareSheep/CareSheep_Android/assets/68242854/6fc9c32b-008d-45dd-9c8f-2bd3909a6eed)

 

## 📌 S/W개발 환경 


### - OS
![Windows 11](https://img.shields.io/badge/Windows%2011-%230079d5.svg?style=for-the-badge&logo=Windows%2011&logoColor=white)

### - 개발 환경(IDE)
![Android Studio](https://img.shields.io/badge/Android%20Studio-3DDC84.svg?style=for-the-badge&logo=android-studio&logoColor=white)

### - 개발 도구 
![Firebase](https://img.shields.io/badge/Firebase-039BE5?style=for-the-badge&logo=Firebase&logoColor=white)    

### - 개발 언어
![Kotlin](https://img.shields.io/badge/kotlin-%237F52FF.svg?style=for-the-badge&logo=kotlin&logoColor=white)  

<br/>
<br/>
<br/>
<br/>


### 📌 기대효과 및 활용분야

- **자가 돌봄과 가족 돌봄의 융합**   
초기 치매 환자 및 고령 노인과 보호자들을 연결하고 어르신의 생활을 관리하는 형태의 서비스를 제공함으로써, 어르신의 자가 돌봄과 여러 명의 보호자가 함께하는 가족 돌봄을 실현한다.

- **돌봄 부담 완화**  
초기 치매 환자 및 고령 노인과 여러 명의 보호자를 연동시키는 시스템으로, 가족들이 함께 돌봄에 참여할 수 있다. 공유 캘린더와 음성 사서함을 통해 가족 간 초기 치매 환자(고령 노인)의 일정 관리, 어르신의 상황 확인이 수월해짐에 따라 돌봄 부담을 경감시킬 수 있다.
 
- **어르신 자립력 강화**  
중앙치매센터에서 강조하는 '초기 치매 환자의 돌봄 원칙'을 준수하여, 어르신이 스스로 해낼 수 있는 생활 능력을 유지하는 데 도움을 주고 자신에 대한 자신감을 증진시킨다.

 - **사용성 개선 및 접근성 향상**  
직관적인 인터페이스와 간편한 작동 방식을 통해 고령 노인이 서비스를 더욱 편리하게 이용할 수 있도록 돕는다.

- **생활 습관 형성과 건강 관리**  
초기 치매 환자 및 고령 노인의 규칙적인 생활 습관 형성을 위해 생활 루틴별로 알람을 설정하며, 복약 알람을 통해 약물 복용을 효과적으로 관리할 수 있다. 더불어 어르신의 주간/일간 생활 리포트를 제공하여 보호자가 어르신의 상태를 파악하고 변화를 빠르게 인지할 수 있다.
 
- **신속한 긴급 상황 대응**  
음성 사서함 기능을 통해 어르신의 상황 유형을 파악하고 보호자에게 전달하여 어르신의 안전을 도모할 수 있다. 또한, 움직임 감지 기능을 활용하여 어르신의 걸음이 감지되지 않는 시간이 일정 시간을 넘어갈 경우, 긴급 상황으로 판단하여 보호자에게 알람을 전송해 위급한 상황에 대처할 수 있다.

<br/>
<br/>
<br/>
<br/>


## 📌 커밋 메시지 규칙
- **feat** : 새로운 기능 추가
- **fix** : 버그 수정
- **design** : UI 디자인 변경
- **docs** : 문서 작업
- **style** : 코드 포맷팅, 세미콜론 누락, 코드 변경이 없는 경우
- **refactor** : 코드 리팩토링
- **test** : 테스트 코드 작성
- **chore** : 빌드 업무, 패키지 매니저 수정, 그 외 기타 수정
